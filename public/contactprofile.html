<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="style.css" type="text/css">
        <title>Friend's Profile</title>

        <style>

          .icons img {
            border-radius:50%;
            width:125px;
          }

          .profile img{
            border-radius: 50%;
            width:50px;
          }

          .navbar {
            height: 50px;
            width: 50px;
          }

          .navbar img{
            border-radius: 50%;
            width:50px;
            float: left;

          }

          .profile {
              text-align: center;
              margin-top:-10px;
              font-family: sans-serif;

          }


          .profile .picture{
            border-radius: 50%;
            width: 200px;
          }

          .left{
            float: left;
            margin-top: 20px;
            margin-left: 35px;
          }

          .right{
            float: right;
            margin-top: 20px;
            margin-right: 35px;
          }
          .goog-te-banner-frame.skiptranslate {display: none !important;} 
        body { top: 0px !important; }
        </style>
    </head>
    <body>
        <div class="navbar">
            <span></span>
            <a href="home.html"><img src="resources/BackButton.png" alt="Back"></a>
        </div>

        <div class="profile">
            <img class="picture" src="">
            <br>
            <span id="userName"></span>
            <br>

        </div>


        <div class="icons">
          <div class="left">
            <a href="tel:+6266529883"><img src="resources/PhoneButton.png" alt="Phone"></a>
            <br>
            <a id="facetime"><img style="margin-top:20px;" src="resources/VideoCallButton.png" alt="FaceTime"></a>
          </div>
          <div class="right">
              <a href="chat.html"><img src="resources/TextButton.png" alt="Chat"></a>
            <br>
            <a href="events.html"><img style="margin-top:20px" src="resources/Calendar.png" alt="Events"></a>
          </div>
        </div>

        <script>
        window.onload = function () {
          googleTranslateElementInit();
        }
        </script>

        <script>
            var data = {};
            var type;
            var user;
            var ft;

            window.onload = function() {
              data = JSON.parse(window.localStorage.getItem('contacts'));
              type = window.localStorage.getItem('chosenType');
              user = window.localStorage.getItem('chosen');
              document.querySelector('#userName').textContent = user;
              if (type === 'Family') {
                for(var i = 0; i < data.family.length; i++) {
                  if (data.family[i].name === user) {
                    console.log('looping');
                    document.querySelector('.picture').setAttribute('src', 'resources/Family/' + data.family[i].img);
                    console.log(data.family[i].img);
                    ft = data.family[i].num;
                    break;
                  }
                }
              }
              else if (type === 'Friends') {
                for(var i = 0; i < data.friends.length; i++) {
                  console.log('looping');
                  if (data.friends[i].name === user) {
                    document.querySelector('.picture').setAttribute('src', 'resources/Friends/' + data.friends[i].img);
                    console.log(data.friends[i].img);
                    ft = data.friends[i].num;
                    break;
                  }
                }
              }
              var settingsBtn = document.createElement('a');
              settingsBtn.setAttribute('href', 'contactsettings2.html');
              settingsBtn.innerHTML = '<img src="resources/Settings.png" alt="Edit Profile" style="border-radius: 50%;width: 50px;z-index: 10;margin-top: -85px; margin-left: 50px;position:absolute;"></a>';
              document.querySelector('.profile').appendChild(settingsBtn);
              console.log(ft);
              document.querySelector('#facetime').setAttribute('href', 'facetime://' + ft);
            }

        </script>
        <script>
        function googleTranslateElementInit() {
            var selLang = localStorage.getItem("selLanguage");
            selLang = 'ar';
            if(selLang !== null && selLang)
            {
                new google.translate.TranslateElement({pageLanguage: selLang}, 'google_translate_element');
            }
            else
            {
                new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
            }
        }

    </script>
    <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>


    </body>

</html>
