<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="style.css" type="text/css">
  <title>Your Settings</title>

  <style>
    html,
    body {
      background-color: #fefefe;
      font-family: Calibri, sans-serif;
      margin: 0 auto;
      height: 100%;
    }

    .icons img {
      border-radius: 50%;
      width: 125px;
    }

    .profile img {
      border-radius: 50%;
      width: 50px;
    }

    .navbar {
      height: 50px;
      width: 50px;
    }

    .navbar img {
      border-radius: 50%;
      width: 50px;
      float: left;

    }

    .profile {
      text-align: center;
      margin-top: -10px;
      font-family: sans-serif;

    }


    .profile .picture {
      border-radius: 50%;
      width: 200px;
    }

    .left {
      float: left;
      margin-top: 20px;
      margin-left: 35px;
    }

    .right {
      float: right;
      margin-top: 20px;
      margin-right: 35px;
    }

    .box {
      position: static;
      margin-top: -300px;
      margin-bottom: 30px;
      border: 150px solid white;
    }

    .box2 {
      position: static;
      width: 275px;
      margin-left: 25px;
      background-color: white;
      border: 25px solid white;
      margin-bottom: 10px;
      text-align: center;
      border-radius: 10px;
    }

    .box2 img {
      width: 50px;
      border-radius: 50%;
    }


    .box3 {
      position: static;
    }

    .picture {
      margin-top: -30px;
    }

    .goog-te-banner-frame.skiptranslate {
      display: none !important;
    }

    body {
      top: 0px !important;
    }

    #addBoxBg {
      z-index: 1;
      display: none;
      width: 100%;
      height: 100%;
      left: 0;
      top: 0;
      position: fixed;
      background-color: #000;
      background-color: rgba(0, 0, 0, 0.4);
    }

    #addBoxContent {
      color: #ee6e73;
      background-color: #fff;
      width: 75%;
      padding: 15px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .addinput {
      font-size: 20px;
      border: 1px solid #E0E0E0;
      padding: 5px;
      margin-bottom: 15px;
    }

    .addinput::placeholder {
      color: #D8D8D8;
    }

    label {
      font-size: 20px;
      color: #ffb6c1;
    }

    #addBoxContent button {
      font-size: 20px;
      background-color: #ffb6c1;
      border: none;
      color: #fff;
      border-radius: 12px;
      margin-top: 20px;
      padding: 5px 10px;
    }
  </style>
</head>

<body style="background-color:#ffb6c1">
  <div class="navbar">
    <span></span>
    <a href="contactprofile.html">
      <img src="resources/BackButton.png" alt="Back">
    </a>
  </div>

  <div class="profile">
    <h1 style="color:darkgrey">EVENTS</h1>
    <br>
    <span id="userName"></span>
    <br>
  </div>
  <div class="box"></div>
  <div id="eventsContainer">
  </div>

  <div class="box2" onclick="openAddBox()">
    <img src="resources/AddButton.png">
  </div>

  <div id="addBoxBg">
    <div id="addBoxContent">
      <img src="/resources/Cancel.png" style="float:left; border-radius:50%" width="30px" alt="X" onclick="closeBox()">
      <p style="text-align:center; font-size:30px">Add Event</p>
      <input class="addinput" type="text" id="name" placeholder="Event Name" onfocus="this.placeholder = ''">
      <br>
      <input class="addinput" type="date" id="date">
      <br>
      <input class="addinput" type="time" id="time">
      <br>
      <button onclick="addEvent()">Submit</button>
    </div>
  </div>

  <script>
    /*var user = window.localStorage.getItem('chosen');
    var events = JSON.parse(window.localStorage.getItem('eventLog'));
    window.onload = function () {

      if (!events) {
        var obj = {
          "users": [
            { "name": user, "events": [] }
          ]
        };
        window.localStorage.setItem('eventLog', JSON.stringify(obj));
        events = obj;
      }

      else {
        for (var i = 0; i < events.users.length; i++) {
          console.log('finding user');
          if (events.users[i].name === user) {
            var list = events.users[i].events;

            for (var j = 0; j < list.length; i++) {
              console.log('looping');
              var div = document.createElement('div');
              div.className = "box2";
              div.innerHTML = list[j];
              document.querySelector('#eventsContainer').appendChild(div);
            }
            break;
          }
        }

        if (i === events.users.length) {
          var toAdd = { "name": user, "events": []};
          events.users.push(toAdd);
          window.localStorage.setItem('eventLog', JSON.stringify(events));
        }
      }

    }*/
    function closeBox() {
      document.querySelector('#addBoxBg').style.display = "none";
      document.querySelector('#name').value = '';
      document.querySelector('#date').value = '';
      document.querySelector('#time').value = '';

    }
    function openAddBox() {
      document.querySelector('#addBoxBg').style.display = "block";
    }

    function addEvent() {
      var name = document.querySelector('#name').value;
      var date = document.querySelector('#date').value;
      date = date.split('-');
      var temp;
      switch (date[1]) {
        case '01':
          temp = 'January';
          break;
        case '02':
          temp = 'February';
          break;
        case '03':
          temp = 'March';
          break;
        case '04':
          temp = 'April';
          break;
        case '05':
          temp = 'May';
          break;
        case '06':
          temp = 'June';
          break;
        case '07':
          temp = 'July';
          break;
        case '08':
          temp = 'August';
          break;
        case '09':
          temp = 'September';
          break;
        case '10':
          temp = 'October';
          break;
        case '11':
          temp = 'November';
          break;
        case '12':
          temp = 'December';
          break;
      }

      temp += ' ' + date[2] + ', ' + date[0];
      var time = document.querySelector('#time').value;
      console.log(temp);
      console.log(time);
      document.querySelector('#addBoxBg').style.display = "none";

      var div = document.createElement('div');
      div.className = "box2";
      div.innerHTML = temp + ' - ' + time + '<br>' + name;
      /*for (var i = 0; i < events.users.length; i++) {
          if (events.users[i].name === user) {
              events.users[i].events.push(temp + ' - ' + time + '<br>' + name);
              window.localStorage.setItem('eventLog', JSON.stringify(events));
            break;
          }
        }*/
      document.querySelector('#eventsContainer').appendChild(div);
      document.querySelector('#name').value = '';
      document.querySelector('#date').value = '';
      document.querySelector('#time').value = '';

    }


    function googleTranslateElementInit() {
      var selLang = localStorage.getItem("selLanguage");
      selLang = 'ar';
      if (selLang !== null && selLang) {
        new google.translate.TranslateElement({ pageLanguage: selLang }, 'google_translate_element');
      }
      else {
        new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
      }
    }
  </script>
  <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>


</html>